<!DOCTYPE html>
<html lang="en">
<head>
  <%- include('partials/head', { title }) %>
</head>
<body>
  <%- include('partials/navbar', { user }) %>
  <main class="container">
    <h1>Institution Dashboard</h1>

    <!-- UC09 Register institution -->
    <h2>Institution profile</h2>
    <form action="/api/institution" method="post">
      <div class="form-group"><label>Name</label><input name="name" required /></div>
      <div class="form-group"><label>Domain</label><input name="domain" required /></div>
      <div class="form-group"><label>Contact e‑mail</label><input name="email" type="email" required /></div>
      <button class="button" type="submit">Save</button>
    </form>

    <!-- UC10 User management -->
    <h2>Users</h2>
    <form action="/api/users" method="post" style="margin-bottom:1rem;">
      <div class="form-group"><label>Username</label><input name="username" required /></div>
      <div class="form-group"><label>Full name</label><input name="fullname" required /></div>
      <div class="form-group"><label>Role</label>
        <select name="role"><option>student</option><option>instructor</option><option>institution</option></select>
      </div>
      <div class="form-group"><label>Grade code (FK)</label><input name="gradeCode" required /></div>
      <button class="button" type="submit">Add user</button>
    </form>

    <table>
      <thead><tr><th>Username</th><th>Name</th><th>Role</th><th>Grade code</th><th>Actions</th></tr></thead>
      <tbody id="users"><!-- server‑side rows --></tbody>
    </table>

    <!-- UC08 Purchase credits -->
    <h2>Purchase credits</h2>
    <form action="/api/credits" method="post">
      <input name="amount" type="number" min="1" required style="width:120px;" />
      <button class="button" type="submit">Buy</button>
    </form>
  </main>
  <script type="module" src="/script.js"></script>
</body>
</html>
